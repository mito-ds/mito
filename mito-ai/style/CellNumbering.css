/*
 * Copyright (c) Saga Inc.
 * Distributed under the terms of the GNU Affero General Public License v3.0 License.
 */

/* Add top padding to cells to make room for the cell number label */
.jp-Cell {
  position: relative;
  padding-top: 24px !important;
}

.jp-InputArea-editor,
.jp-MarkdownOutput {
  min-height: 50px;
  padding-top: 20px !important;
  padding-bottom: 20px !important;
  background-color: transparent !important;
}

/* Position the header to hold the label */
.jp-Cell-header {
  display: block;
  height: 20px;
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
}

/* Label positioned to overlap the cell's top border (fieldset legend style) */
.jp-Cell-header::before {
  content: "Cell " attr(data-cell-number);
  position: absolute;
  top: 15px;  /* Position so label sits on the cell border at 24px */
  left: calc(var(--jp-cell-collapser-width) + var(--jp-cell-prompt-width) + 10px);
  background-color: var(--jp-layout-color0);  /* Solid background to mask the border */
  padding: 2px 8px;
  font-size: 11px;
  font-family: var(--jp-ui-font-family);
  color: var(--jp-ui-font-color2);
  user-select: none;
  z-index: 10;
  line-height: 14px;
}

/* Only show cell labels when the attribute is present */
.jp-Cell-header:not([data-cell-number])::before {
  content: "";
  display: none;
}

/* Make active cell more visible in Mito theme */
.jp-Cell.jp-mod-active {
  border: 2px solid var(--purple-500, #ba9bf8) !important;
  border-radius: 4px !important;
  box-shadow: 0 0 0 1px var(--purple-400, #d0b9fe) !important;
  background-color: var(--jp-layout-color1, rgba(157, 108, 255, 0.05)) !important;
}

/* Enhanced styling for cells in edit mode */
.jp-Cell.jp-mod-active.jp-mod-editMode,
.jp-Cell.jp-mod-editMode {
  border: 2px solid var(--purple-400, #d0b9fe) !important;
  border-radius: 4px !important;
  box-shadow: 0 0 0 2px var(--purple-300, #e9e0fd) !important;
  background-color: var(--jp-layout-color2, rgba(157, 108, 255, 0.08)) !important;
}
